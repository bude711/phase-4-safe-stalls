(this["webpackJsonpreact-rails-api-project-template-client"]=this["webpackJsonpreact-rails-api-project-template-client"]||[]).push([[0],{25:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var c,r,a,i,o=n(4),s=n(1),j=n(15),b=n.n(j),l=(n(25),n(10)),d=n(2),u=n(3),O=n(7),h=n(5),x=h.b.div(c||(c=Object(o.a)(["\n  border-radius: 6px;\n  box-shadow: 0 0.5em 1em -0.125em rgb(10 10 10 / 10%),\n    0 0 0 1px rgb(10 10 10 / 2%);\n  padding: 16px;\n"]))),p=n(19),m=n(20),f=n(0),g=["variant","color"],v={primary:{"--main":"indigo","--accent":"white"},secondary:{"--main":"lavenderblush","--accent":"indigo"}};var y,w,S,C,k,F,N,L=h.b.button(r||(r=Object(o.a)(["\n  cursor: pointer;\n  font-size: 1rem;\n  border: 1px solid transparent;\n  border-radius: 6px;\n  padding: 8px 16px;\n  text-decoration: none;\n"]))),P=Object(h.b)(L)(a||(a=Object(o.a)(["\n  background-color: var(--main);\n  color: var(--accent);\n\n  &:hover {\n    opacity: 0.9;\n  }\n"]))),T=Object(h.b)(L)(i||(i=Object(o.a)(["\n  background-color: white;\n  color: var(--main);\n  border: 2px solid var(--main);\n\n  &:hover {\n    background: hsl(235deg 85% 97%);\n  }\n"]))),B=function(e){var t,n=e.variant,c=void 0===n?"fill":n,r=e.color,a=void 0===r?"primary":r,i=Object(m.a)(e,g);return"fill"===c?t=P:"outline"===c&&(t=T),Object(f.jsx)(t,Object(p.a)({style:v[a]},i))},D=h.b.div(y||(y=Object(o.a)(["\n  &:not(:last-child) {\n    margin-bottom: 12px;\n  }\n"]))),E=h.b.input(w||(w=Object(o.a)(["\n  border-radius: 6px;\n  border: 1px solid transparent;\n  border-color: #dbdbdb;\n  -webkit-appearance: none;\n  max-width: 100%;\n  width: 100%;\n  font-size: 1rem;\n  line-height: 1.5;\n  padding: 4px;\n"]))),U=h.b.label(S||(S=Object(o.a)(["\n  color: #363636;\n  display: block;\n  font-size: 1rem;\n  font-weight: 700;\n  margin-bottom: 8px;\n"]))),A=h.b.textarea(C||(C=Object(o.a)(["\n  border-radius: 6px;\n  border: 1px solid transparent;\n  border-color: #dbdbdb;\n  -webkit-appearance: none;\n  max-width: 100%;\n  width: 100%;\n  font-size: 1rem;\n  line-height: 1.5;\n  padding: 4px;\n  resize: none;\n"])));var z,R,J,I=h.b.div(k||(k=Object(o.a)(["\n  color: red;\n  background-color: mistyrose;\n  border-radius: 6px;\n  display: flex;\n  padding: 8px;\n  align-items: center;\n  gap: 8px;\n  margin: 8px 0;\n"]))),_=h.b.span(F||(F=Object(o.a)(["\n  background-color: white;\n  height: 30px;\n  width: 30px;\n  border-radius: 50%;\n  font-weight: bold;\n  display: grid;\n  place-content: center;\n"]))),H=h.b.p(N||(N=Object(o.a)(["\n  margin: 0;\n"]))),M=function(e){var t=e.children;return Object(f.jsxs)(I,{children:[Object(f.jsx)(_,{children:"!"}),Object(f.jsx)(H,{children:t})]})};var q=h.b.header(z||(z=Object(o.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 8px;\n"]))),G=h.b.h1(R||(R=Object(o.a)(['\n  font-family: "Permanent Marker", cursive;\n  font-size: 3rem;\n  color: deeppink;\n  margin: 0;\n  line-height: 1;\n  a {\n    color: inherit;\n    text-decoration: none;\n  }\n']))),K=h.b.nav(J||(J=Object(o.a)(["\n  display: flex;\n  gap: 4px;\n  position: absolute;\n  right: 8px;\n"]))),Q=function(e){e.user;var t=e.setUser;return Object(f.jsxs)(q,{children:[Object(f.jsx)(G,{children:Object(f.jsx)(O.b,{to:"/api/",children:"Safe Stalls"})}),Object(f.jsxs)(K,{children:[Object(f.jsx)(B,{as:O.b,to:"/api/locations",children:"Home"}),Object(f.jsx)(B,{as:O.b,to:"/api/new",children:"Add New Bathroom"}),Object(f.jsx)(B,{variant:"outline",onClick:function(){fetch("/api/logout",{method:"DELETE"}).then((function(e){e.ok&&t(null)}))},children:"Logout"})]})]})};var V=function(e){var t=e.onLogin,n=Object(s.useState)(""),c=Object(d.a)(n,2),r=c[0],a=c[1],i=Object(s.useState)(""),o=Object(d.a)(i,2),j=o[0],b=o[1],l=Object(s.useState)(),u=Object(d.a)(l,2),O=u[0],h=u[1],x=Object(s.useState)(!1),p=Object(d.a)(x,2),m=p[0],g=p[1];return Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),g(!0),fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,password:j})}).then((function(e){g(!1),e.ok?e.json().then((function(e){return t(e)})):e.json().then((function(e){return h(e.errors)}))}))},children:[Object(f.jsxs)(D,{children:[Object(f.jsx)(U,{htmlFor:"username",children:"Username"}),Object(f.jsx)(E,{type:"text",id:"username",autoComplete:"off",value:r,onChange:function(e){return a(e.target.value)}})]}),Object(f.jsxs)(D,{children:[Object(f.jsx)(U,{htmlFor:"password",children:"Password"}),Object(f.jsx)(E,{type:"password",id:"password",autoComplete:"current-password",value:j,onChange:function(e){return b(e.target.value)}})]}),Object(f.jsx)(D,{children:Object(f.jsx)(B,{variant:"fill",color:"primary",type:"submit",children:m?"Loading...":"Login"})}),Object(f.jsx)(D,{children:O&&O.map((function(e){return Object(f.jsx)(M,{children:e},e)}))})]})};var W,X,Y,Z=function(e){var t=e.onLogin,n=Object(s.useState)(""),c=Object(d.a)(n,2),r=c[0],a=c[1],i=Object(s.useState)(""),o=Object(d.a)(i,2),j=o[0],b=o[1],l=Object(s.useState)(""),u=Object(d.a)(l,2),O=u[0],h=u[1],x=Object(s.useState)(""),p=Object(d.a)(x,2),m=p[0],g=p[1],v=Object(s.useState)(""),y=Object(d.a)(v,2),w=y[0],S=y[1],C=Object(s.useState)(""),k=Object(d.a)(C,2),F=k[0],N=k[1],L=Object(s.useState)(""),P=Object(d.a)(L,2),T=P[0],z=P[1],R=Object(s.useState)([]),J=Object(d.a)(R,2),I=J[0],_=J[1],H=Object(s.useState)(!1),q=Object(d.a)(H,2),G=q[0],K=q[1];return Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),_([]),K(!0),fetch("/api/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,password:j,first_name:O,last_name:m,password_confirmation:w,image_url:F,bio:T})}).then((function(e){K(!1),e.ok?e.json().then((function(e){return t(e)})):e.json().then((function(e){return _(e.errors)}))}))},children:[Object(f.jsxs)(D,{children:[Object(f.jsx)(U,{htmlFor:"firstName",children:"First Name"}),Object(f.jsx)(E,{type:"text",id:"firstName",autoComplete:"off",value:O,onChange:function(e){return h(e.target.value)}})]}),Object(f.jsxs)(D,{children:[Object(f.jsx)(U,{htmlFor:"lastName",children:"Last Name"}),Object(f.jsx)(E,{type:"text",id:"lastName",autoComplete:"off",value:m,onChange:function(e){return g(e.target.value)}})]}),Object(f.jsxs)(D,{children:[Object(f.jsx)(U,{htmlFor:"username",children:"Username"}),Object(f.jsx)(E,{type:"text",id:"username",autoComplete:"off",value:r,onChange:function(e){return a(e.target.value)}})]}),Object(f.jsxs)(D,{children:[Object(f.jsx)(U,{htmlFor:"password",children:"Password"}),Object(f.jsx)(E,{type:"password",id:"password",value:j,onChange:function(e){return b(e.target.value)},autoComplete:"current-password"})]}),Object(f.jsxs)(D,{children:[Object(f.jsx)(U,{htmlFor:"password",children:"Password Confirmation"}),Object(f.jsx)(E,{type:"password",id:"password_confirmation",value:w,onChange:function(e){return S(e.target.value)},autoComplete:"current-password"})]}),Object(f.jsxs)(D,{children:[Object(f.jsx)(U,{htmlFor:"imageUrl",children:"Profile Image"}),Object(f.jsx)(E,{type:"text",id:"imageUrl",value:F,onChange:function(e){return N(e.target.value)}})]}),Object(f.jsxs)(D,{children:[Object(f.jsx)(U,{htmlFor:"bio",children:"Bio"}),Object(f.jsx)(A,{rows:"3",id:"bio",value:T,onChange:function(e){return z(e.target.value)}})]}),Object(f.jsx)(D,{children:Object(f.jsx)(B,{type:"submit",children:G?"Loading...":"Sign Up"})}),Object(f.jsx)(D,{children:I.map((function(e){return Object(f.jsx)(M,{children:e},e)}))})]})};var $,ee,te=h.b.h1(W||(W=Object(o.a)(['\n  font-family: "Permanent Marker", cursive;\n  font-size: 3rem;\n  color: deeppink;\n  margin: 8px 0 16px;\n']))),ne=h.b.section(X||(X=Object(o.a)(["\n  max-width: 500px;\n  margin: 40px auto;\n  padding: 16px;\n"]))),ce=h.b.hr(Y||(Y=Object(o.a)(["\n  border: none;\n  border-bottom: 1px solid #ccc;\n  margin: 16px 0;\n"]))),re=function(e){var t=e.onLogin,n=Object(s.useState)(!0),c=Object(d.a)(n,2),r=c[0],a=c[1];return Object(f.jsxs)(ne,{children:[Object(f.jsx)(te,{children:"Safe Stalls"}),r?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(V,{onLogin:t}),Object(f.jsx)(ce,{}),Object(f.jsxs)("p",{children:["Don't have an account? \xa0",Object(f.jsx)(B,{color:"secondary",onClick:function(){return a(!1)},children:"Sign Up"})]})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Z,{onLogin:t}),Object(f.jsx)(ce,{}),Object(f.jsxs)("p",{children:["Already have an account? \xa0",Object(f.jsx)(B,{color:"secondary",onClick:function(){return a(!0)},children:"Log In"})]})]})]})};var ae=h.b.section($||($=Object(o.a)(["\n  max-width: 1000px;\n  margin: 40px auto;\n  padding: 16px;\n  display: flex;\n  gap: 24px;\n"]))),ie=h.b.div(ee||(ee=Object(o.a)(["\n  flex: 1;\n"]))),oe=function(e){var t=e.onAddBathrooms,n=(e.user,Object(s.useState)("")),c=Object(d.a)(n,2),r=c[0],a=c[1],i=Object(s.useState)(""),o=Object(d.a)(i,2),j=o[0],b=o[1],l=Object(s.useState)(""),O=Object(d.a)(l,2),h=O[0],x=O[1],p=Object(s.useState)(""),m=Object(d.a)(p,2),g=m[0],v=m[1],y=Object(s.useState)([]),w=Object(d.a)(y,2),S=w[0],C=w[1],k=Object(s.useState)(!1),F=Object(d.a)(k,2),N=F[0],L=F[1];return Object(u.f)(),Object(f.jsx)(ae,{children:Object(f.jsx)(ie,{children:Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),L(!0),fetch("/api/locations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({city:r,address:h,details:g,name:j})}).then((function(e){L(!1),e.ok?e.json().then((function(e){a(""),b(""),x(""),v(""),C([]),t(e)})):e.json().then((function(e){return C(e.errors)}))}))},children:[Object(f.jsx)("h2",{children:"Create Location"}),Object(f.jsxs)(D,{children:[Object(f.jsx)(U,{htmlFor:"city",children:"City"}),Object(f.jsx)(E,{type:"text",id:"city",value:r,onChange:function(e){return a(e.target.value)}})]}),Object(f.jsxs)(D,{children:[Object(f.jsx)(U,{htmlFor:"name",children:"Business Name"}),Object(f.jsx)(E,{type:"text",id:"name",value:j,onChange:function(e){return b(e.target.value)}})]}),Object(f.jsxs)(D,{children:[Object(f.jsx)(U,{htmlFor:"address",children:"Address"}),Object(f.jsx)(A,{id:"address",rows:"10",value:h,onChange:function(e){return x(e.target.value)}})]}),Object(f.jsxs)(D,{children:[Object(f.jsx)(U,{htmlFor:"details",children:"Details"}),Object(f.jsx)(A,{id:"details",rows:"10",value:g,onChange:function(e){return v(e.target.value)}})]}),Object(f.jsx)(D,{children:Object(f.jsx)(B,{color:"primary",type:"submit",children:N?"Loading...":"Submit Location"})}),Object(f.jsx)(D,{children:S.map((function(e){return Object(f.jsx)(M,{children:e},e)}))})]})})})};var se,je,be=function(e){e.review;var t=e.onChangeForm,n=(e.onEditReview,e.onAddReviews),c=Object(s.useState)(""),r=Object(d.a)(c,2),a=r[0],i=r[1],o=Object(s.useState)(""),j=Object(d.a)(o,2),b=j[0],l=j[1],u=Object(s.useState)([]),O=Object(d.a)(u,2),h=(O[0],O[1]),x=Object(s.useState)(!1),p=Object(d.a)(x,2),m=(p[0],p[1]);function g(e){t(e.target.name,e.target.value)}return Object(f.jsxs)("form",{onSubmit:function(e,t){e.preventDefault(),m(!0),fetch("/api/locations/".concat(t),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({comment:a,rating:b})}).then((function(e){m(!1),e.ok?e.json().then((function(e){i(""),l(""),h([]),n(e)})):e.json().then((function(e){return h(e.errors)}))}))},children:[Object(f.jsxs)("div",{className:"form-row",children:[Object(f.jsx)("div",{className:"col-5",children:Object(f.jsx)("input",{type:"text",className:"form-control",placeholder:"comment",name:"comment",value:a,onChange:g})}),Object(f.jsx)("p",{}),Object(f.jsx)("div",{className:"col",children:Object(f.jsx)("input",{type:"number",className:"form-control",placeholder:"rating",name:"rating",value:b,onChange:g})})]}),Object(f.jsxs)("div",{className:"col",children:[Object(f.jsx)("p",{}),Object(f.jsx)("button",{type:"submit",className:"btn btn-success",children:"Add Review"}),"\xa0\xa0",Object(f.jsx)("button",{type:"submit",className:"btn btn-success",children:"Update Review"})]})]})};var le=h.b.section(se||(se=Object(o.a)(["\n  max-width: 800px;\n  margin: 40px auto;\n"]))),de=h.b.article(je||(je=Object(o.a)(["\n  margin-bottom: 24px;\n"]))),ue=function(){var e=Object(s.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)([]),a=Object(d.a)(r,2),i=(a[0],a[1]);return Object(s.useEffect)((function(){fetch("/api/locations").then((function(e){return e.json()})).then(c)}),[]),Object(s.useEffect)((function(){fetch("/api/reviews").then((function(e){return e.json()})).then(i)}),[]),Object(f.jsx)(le,{children:n.length>0?n.map((function(e){return Object(f.jsx)(de,{children:Object(f.jsxs)(x,{children:[Object(f.jsx)("h2",{children:e.city}),Object(f.jsx)("h3",{children:e.name}),Object(f.jsx)("em",{children:e.address}),Object(f.jsx)("em",{children:e.details}),Object(f.jsx)("h4",{children:"Reviews:"}),Object(f.jsx)("ul",{children:e.reviews.map((function(e){return Object(f.jsxs)("li",{children:[e.comments," \xa0\xb7\xa0 Rating: ",e.rating,"/10"]},e.id)}))}),Object(f.jsx)("p",{children:Object(f.jsx)(be,{})}),Object(f.jsx)(B,{onClick:function(){return t=e.id,void fetch("/api/locations/".concat(t),{method:"DELETE"}).then((function(e){e.ok&&c((function(e){return e.filter((function(e){return e.id!==t}))}))}));var t},children:"Delete Bathroom"})]})},e.id)})):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h2",{children:"No Bathrooms Found"}),Object(f.jsx)(oe,{onAddBathroom:function(e){c((function(t){return[].concat(Object(l.a)(t),[e])}))}})]})})};var Oe,he=function(){var e=Object(s.useState)(null),t=Object(d.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)([]),a=Object(d.a)(r,2),i=(a[0],a[1]),o=Object(s.useState)([]),j=Object(d.a)(o,2),b=(j[0],j[1]);return Object(s.useEffect)((function(){fetch("/api/me").then((function(e){e.ok&&e.json().then((function(e){return c(e)}))}))}),[]),n?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Q,{user:n,setUser:c}),Object(f.jsx)("main",{children:Object(f.jsxs)(u.c,{children:[Object(f.jsx)(u.a,{path:"/api/locations",element:Object(f.jsx)(ue,{})}),Object(f.jsx)(u.a,{path:"/api/new",element:Object(f.jsx)(oe,{onAddBathrooms:function(e){i((function(t){return[].concat(Object(l.a)(t),[e])}))},user:n})}),Object(f.jsx)(u.a,{path:"/api/reviews",element:Object(f.jsx)(be,{onAddReviews:function(e){b((function(t){return[].concat(Object(l.a)(t),[e])}))}})})]})})]}):Object(f.jsx)(re,{onLogin:c})},xe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,32)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))},pe=Object(h.a)(Oe||(Oe=Object(o.a)(['\n  *,\n  *::before, \n  *::after {\n    box-sizing: border-box;\n  }\n\n  html, body {\n    margin: 0;\n  }\n\n  body {\n    font-family: BlinkMacSystemFont,-apple-system,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Helvetica,Arial,sans-serif;\n  }\n'])));b.a.render(Object(f.jsxs)(O.a,{children:[Object(f.jsx)(pe,{}),Object(f.jsx)(he,{})]}),document.getElementById("root")),xe()}},[[31,1,2]]]);
//# sourceMappingURL=main.bb4879c3.chunk.js.map